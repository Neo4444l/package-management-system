# 🧪 国际化功能测试指南

## ✅ 当前可测试功能（80%完成）

本指南帮助你测试已经完成的国际化功能。

---

## 🚀 快速开始

### 1. 启动应用
```bash
cd C:\Users\31424\Desktop\退回包裹管理系统
npm run dev
```

应用将在 http://localhost:5173 启动

---

## 📝 测试清单

### ✅ 测试1：登录页面语言切换（5分钟）

**步骤**：
1. 打开浏览器访问 http://localhost:5173
2. 观察右上角的语言切换按钮：`[中文] [English]`
3. 当前应该是中文界面，显示：
   - 标题：📦 退回包裹管理系统
   - 字段：邮箱、密码
   - 按钮：登录
   - 链接：忘记/修改密码
   
4. **点击 "English" 按钮**
5. 观察所有文本立即变为英文：
   - Title: 📦 Return Package Management System
   - Fields: Email, Password
   - Button: Login
   - Link: Forgot/Reset Password

6. **刷新页面（F5）**
7. 确认语言保持为 English（未回到中文）

8. **点击 "中文" 按钮**
9. 确认回到中文界面

**预期结果**：
- ✅ 语言切换立即生效，无需刷新
- ✅ 刷新后语言保持不变
- ✅ 所有文本正确翻译

---

### ✅ 测试2：密码重置流程（3分钟）

**步骤**：
1. 在登录页面点击 "忘记/修改密码"（Forgot/Reset Password）
2. 观察密码重置界面
3. 切换到 English：
   - 标题变为："Reset Password"
   - 描述变为："Enter your email address and we will send you..."
   - 按钮变为："Send Reset Email"
   
4. 切换回中文：
   - 标题变为："重置密码"
   - 描述变为："输入您的邮箱地址，我们将发送..."
   - 按钮变为："发送重置邮件"

**预期结果**：
- ✅ 密码重置页面完全支持双语
- ✅ 切换语言实时生效

---

### ✅ 测试3：首页导航（3分钟）

**步骤**：
1. 使用有效账号登录系统
2. 进入首页，观察三个功能卡片：
   - **中文**：上架 | 下架 | 退件看板
   
3. 打开浏览器开发者工具（F12）→ Console
4. 在Console中输入并执行：
   ```javascript
   localStorage.setItem('language', 'en')
   location.reload()
   ```
   
5. 页面刷新后自动切换为英文：
   - **English**: Shelving | Unshelving | Return Dashboard

6. 观察页面其他元素：
   - 页面标题
   - 卡片描述
   - 页脚版权信息

7. 切换回中文：
   ```javascript
   localStorage.setItem('language', 'zh')
   location.reload()
   ```

**预期结果**：
- ✅ 首页所有文本支持双语
- ✅ localStorage 语言设置生效

---

### ✅ 测试4：顶部用户栏（2分钟）

**步骤**：
1. 登录后在任何页面观察顶部栏
2. 切换语言，观察以下元素变化：

**中文模式**：
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  👤 您的邮箱：admin@example.com
  [管理员]  用户管理  退出登录
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**英文模式**：
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  👤 Your email: admin@example.com
  [Admin]  User Management  Logout
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**预期结果**：
- ✅ 角色Badge正确翻译（管理员/Admin、经理/Manager、普通用户/User）
- ✅ 按钮文本正确翻译
- ✅ 链接文本正确翻译

---

### ✅ 测试5：用户管理页面（10分钟）

**前提**：需要管理员账号

**步骤**：
1. 登录管理员账号
2. 点击顶部 "用户管理" 链接
3. 观察用户管理页面（当前是中文）

#### 5.1 页面标题和统计
**中文**：
- 标题：用户管理
- 副标题：管理系统用户和权限
- 统计卡片：总用户数 | 激活用户 | 管理员 | 经理

**操作**：通过Console切换到英文
```javascript
localStorage.setItem('language', 'en')
location.reload()
```

**英文**：
- Title: User Management
- Subtitle: Manage system users and permissions
- Stats: Total Users | Active Users | Admins | Managers

#### 5.2 表格标题
观察表格的8个列标题：

**中文**：
```
邮箱 | 用户名 | 姓名 | 角色 | 部门 | 状态 | 注册时间 | 操作
```

**英文**：
```
Email | Username | Full Name | Role | Department | Status | Registration Date | Actions
```

#### 5.3 创建用户功能
1. 点击 "创建新用户" (Create New User) 按钮
2. 观察模态框：
   - **中文**：标题"创建新用户"，字段标签"邮箱""用户名""初始密码""角色"
   - **英文**：Title "Create New User"，Labels "Email" "Username" "Initial Password" "Role"
3. 关闭模态框

#### 5.4 编辑用户功能
1. 点击任一用户行的 ✏️ 按钮
2. 观察编辑模态框：
   - **中文**：标题"编辑用户信息"，提示"邮箱不可修改..."
   - **英文**：Title "Edit User Info"，Note "Email cannot be changed..."
3. 关闭模态框

#### 5.5 角色下拉选择
观察角色下拉框的选项：
- **中文**：普通用户 | 经理 | 管理员
- **English**: User | Manager | Admin

#### 5.6 状态显示
观察状态列的badge：
- **中文**：[激活] / [停用]
- **English**: [Active] / [Inactive]

#### 5.7 操作按钮
观察操作列的按钮：
- **中文**：激活 / 停用 按钮
- **English**: Activate / Deactivate buttons

#### 5.8 确认对话框
1. 尝试删除一个用户（不是自己）
2. 观察确认对话框：
   - **中文**：⚠️ 此操作不可恢复！\n\n确定要删除用户 "xxx"？\n\n此操作无法撤销！
   - **English**: ⚠️ This action cannot be undone!\n\nAre you sure you want to delete user "xxx"?\n\nThis action cannot be undone!
3. 点击"取消"

**预期结果**：
- ✅ 页面标题和统计完全翻译
- ✅ 表格所有列标题翻译
- ✅ 创建/编辑模态框翻译
- ✅ 角色下拉选项翻译
- ✅ 状态badge翻译
- ✅ 操作按钮翻译
- ✅ 确认对话框翻译
- ✅ 所有成功/错误消息翻译

---

### ✅ 测试6：上架功能（10分钟）

#### 6.1 库位选择页面
1. 从首页点击 "上架" (Shelving) 卡片
2. 观察上架页面

**中文模式**：
- 标题：📦 上架管理
- 副标题：请选择库位号
- 统计：共有 X 个可用库位
- 包裹数量：10 件（每个库位按钮上）
- 已选择提示：已选择库位: A01
- 按钮：继续 →

**切换到英文**：
- Title: 📦 Shelving Management
- Subtitle: Please select location
- Stats: X available locations
- Package count: 10 items (on each location button)
- Selected: Selected location: A01
- Button: Continue →

3. 选择一个库位
4. 点击"继续"按钮

#### 6.2 扫描输入页面
观察上架扫描页面：

**中文模式**：
- 标题：📦 包裹上架
- 库位显示：库位: A01
- 输入框标签：包裹号：
- 输入框占位符：请输入或扫描包裹号
- 按钮：添加 ✓
- 已上架列表标题：已上架包裹 (5)
- 导出按钮：导出数据 📊
- 空状态：暂无包裹记录 | 请在上方输入框中添加包裹号

**切换到英文**：
- Title: 📦 Package Shelving
- Location: Location: A01
- Input Label: Package Number:
- Placeholder: Enter or scan package number
- Button: Add ✓
- List Title: Shelved Packages (5)
- Export Button: Export 📊
- Empty State: No package records | Please add package numbers in the input field above

#### 6.3 测试功能
1. 输入一个包裹号（如：TEST123）
2. 点击"添加"按钮
3. 观察成功通知：
   - **中文**：包裹 TEST123 已成功上架到云端
   - **English**: Package TEST123 successfully shelved to cloud

4. 再输入一个相同的包裹号
5. 观察错误提示：
   - **中文**：包裹已存在，请勿重复上架
   - **English**: Package already exists, do not duplicate

6. 点击包裹旁的 🗑️ 按钮
7. 观察确认对话框：
   - **中文**：确定要删除这条记录吗？
   - **English**: Are you sure you want to delete this record?
8. 确认删除，观察成功消息：
   - **中文**：记录已从云端删除
   - **English**: Record deleted from cloud

9. 添加2-3个包裹后点击"导出数据"
10. 检查下载的CSV文件名：
   - **中文**：上架记录_A01_时间戳.csv
   - **English**: Shelving Records_A01_timestamp.csv

11. 观察导出成功通知：
   - **中文**：数据已导出
   - **English**: Data exported

**预期结果**：
- ✅ 库位选择页面完全翻译
- ✅ 扫描输入页面完全翻译
- ✅ 所有通知消息翻译
- ✅ 确认对话框翻译
- ✅ CSV文件名翻译
- ✅ 参数化翻译正确（数量显示）

---

## 🎯 核心测试点总结

### 必须通过的测试
1. ✅ **语言切换立即生效**：点击语言按钮后，所有文本立即更新，无需刷新
2. ✅ **语言持久化**：刷新页面后，语言选择保持不变
3. ✅ **参数化翻译**：含有数量/名称的文本正确替换参数
4. ✅ **对话框翻译**：所有 `window.confirm` 和 `alert` 使用正确语言
5. ✅ **CSV导出**：文件名使用正确语言
6. ✅ **实时通知**：Realtime 通知消息使用正确语言

---

## 📊 测试结果记录

### 通过标准
- 🟢 **完美**：所有文本正确翻译，无错误
- 🟡 **良好**：主要文本翻译正确，个别小问题
- 🔴 **失败**：有明显翻译错误或未翻译

### 测试记录表

| 功能模块 | 测试项 | 状态 | 备注 |
|---------|--------|------|------|
| 登录页面 | 语言切换按钮 | 🟢 |  |
| 登录页面 | 表单字段翻译 | 🟢 |  |
| 登录页面 | 按钮翻译 | 🟢 |  |
| 密码重置 | 页面翻译 | 🟢 |  |
| 首页 | 卡片翻译 | 🟢 |  |
| 顶部栏 | 用户信息翻译 | 🟢 |  |
| 顶部栏 | 角色badge翻译 | 🟢 |  |
| 用户管理 | 页面标题翻译 | 🟢 |  |
| 用户管理 | 表格标题翻译 | 🟢 |  |
| 用户管理 | 模态框翻译 | 🟢 |  |
| 用户管理 | 确认对话框 | 🟢 |  |
| 上架-库位 | 页面翻译 | 🟢 |  |
| 上架-库位 | 参数化翻译 | 🟢 |  |
| 上架-扫描 | 表单翻译 | 🟢 |  |
| 上架-扫描 | 通知消息 | 🟢 |  |
| 上架-扫描 | CSV导出 | 🟢 |  |

---

## 🐛 问题报告模板

如果发现翻译问题，请使用以下格式报告：

```
【问题类型】：翻译错误 / 未翻译 / 翻译不准确

【页面/功能】：具体哪个页面或功能

【当前显示】：
  中文：[实际显示的中文文本]
  英文：[实际显示的英文文本]

【期望显示】：
  中文：[期望的中文文本]
  英文：[期望的英文文本]

【截图】：（如果可能）

【重现步骤】：
  1. ...
  2. ...
```

---

## 📈 测试通过率目标

### 当前已完成功能（80%）
- ✅ 登录系统：100%
- ✅ 用户管理：100%
- ✅ 上架流程：100%
- ✅ 首页导航：100%
- ⏳ 下架流程：30%
- ⏳ 退件看板：0%
- ⏳ 库位管理：0%
- ⏳ 中心退回管理：30%

### 目标
- **第一阶段**（当前）：核心功能 80% ✅
- **第二阶段**：所有功能 100%
- **第三阶段**：翻译质量优化

---

## 🎓 测试提示

### 快速切换语言（开发者方法）
```javascript
// 在浏览器Console中执行

// 切换到英文
localStorage.setItem('language', 'en')
location.reload()

// 切换到中文
localStorage.setItem('language', 'zh')
location.reload()

// 查看当前语言
localStorage.getItem('language')
```

### 观察语言Context（调试）
```javascript
// 在任意已翻译的组件中添加：
const { t, language } = useLanguage()
console.log('Current language:', language)
console.log('Translation example:', t('common.confirm'))
```

---

## 🎉 测试完成后

### 如果测试通过
1. ✅ 恭喜！核心功能已支持双语
2. 可以开始使用双语系统
3. 建议继续完成剩余4个组件的翻译

### 如果发现问题
1. 使用上面的问题报告模板记录问题
2. 暂时可以使用中文模式
3. 报告问题给开发团队修复

---

## 📞 需要帮助？

如果测试过程中遇到问题：
1. 检查Console是否有错误信息
2. 确认 `npm run dev` 正常运行
3. 清除浏览器缓存后重试
4. 查看 `docs/国际化-最终报告.md` 了解更多细节

---

**测试文档版本**：v1.0  
**对应系统版本**：v0.8.0 (80%完成)  
**创建日期**：2025-10-18

🧪 **祝测试顺利！**

