â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘          âœ… ä¿®å¤ä¸Šæ¶ç®¡ç†é—ªç°"æš‚æ— å¯ç”¨åº“ä½"é—®é¢˜                â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ é—®é¢˜æè¿°
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç°è±¡ï¼š
=====
è¿›å…¥"ä¸Šæ¶ç®¡ç†"é¡µé¢æ—¶ï¼Œä¼šçŸ­æš‚ï¼ˆçº¦1ç§’ï¼‰æ˜¾ç¤º"æš‚æ— å¯ç”¨åº“ä½"çš„è­¦å‘Šé¡µé¢ï¼Œ
ç„¶åæ‰æ˜¾ç¤ºæ­£å¸¸çš„åº“ä½åˆ—è¡¨ã€‚


æ ¹æœ¬åŸå› ï¼š
=========
è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„**æ•°æ®åŠ è½½æ—¶åºé—®é¢˜**ï¼š

1. ç»„ä»¶åˆå§‹æ¸²æŸ“æ—¶ï¼Œlocations çŠ¶æ€æ˜¯ç©ºæ•°ç»„ []
2. useEffect å¼‚æ­¥åŠ è½½æ•°æ®éœ€è¦æ—¶é—´ï¼ˆç½‘ç»œè¯·æ±‚ï¼‰
3. åœ¨æ•°æ®åŠ è½½å®Œæˆå‰ï¼Œlocations.length === 0 ä¸º true
4. æ‰€ä»¥çŸ­æš‚æ˜¾ç¤º"æš‚æ— å¯ç”¨åº“ä½"çš„è­¦å‘Šé¡µé¢


æ—¶é—´è½´ï¼š
=======

```
æ—¶é—´ 0ms:    ç»„ä»¶æŒ‚è½½
             â†“
             locations = []  ï¼ˆç©ºæ•°ç»„ï¼‰
             â†“
             æ¸²æŸ“ï¼šlocations.length === 0 â†’ æ˜¾ç¤º"æš‚æ— å¯ç”¨åº“ä½"
             â†“
æ—¶é—´ 50ms:   useEffect è§¦å‘ï¼Œå¼€å§‹å¼‚æ­¥åŠ è½½æ•°æ®
             â†“
             loadLocations() å‘é€è¯·æ±‚åˆ° Supabase
             â†“
æ—¶é—´ 500ms:  Supabase è¿”å›æ•°æ®
             â†“
             setLocations(data)
             â†“
             é‡æ–°æ¸²æŸ“ï¼šlocations.length > 0 â†’ æ˜¾ç¤ºåº“ä½åˆ—è¡¨
```

â†’ åœ¨ 0-500ms æœŸé—´ï¼Œç”¨æˆ·çœ‹åˆ°"æš‚æ— å¯ç”¨åº“ä½"


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”§ ä¿®å¤æ–¹æ¡ˆ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

è§£å†³æ–¹æ¡ˆï¼šæ·»åŠ  loading çŠ¶æ€
=========================

ä¿®æ”¹ä½ç½®ï¼šsrc/pages/ShelvingPage.jsx


1. æ·»åŠ  loading çŠ¶æ€
===================

```javascript
const [loading, setLoading] = useState(true)  // åˆå§‹ä¸º true
```


2. åœ¨æ•°æ®åŠ è½½æ—¶æ§åˆ¶ loading
==========================

```javascript
const loadLocations = async () => {
  try {
    setLoading(true)        // å¼€å§‹åŠ è½½
    const allLocations = await getAllLocations()
    setLocations(allLocations)
  } catch (error) {
    console.error('Error loading locations:', error)
  } finally {
    setLoading(false)       // åŠ è½½å®Œæˆ
  }
}
```


3. æ¸²æŸ“æ—¶æ ¹æ® loading çŠ¶æ€æ˜¾ç¤ºä¸åŒå†…å®¹
====================================

ä¿®æ”¹å‰ï¼ˆæœ‰é—®é¢˜ï¼‰ï¼š
```javascript
{locations.length === 0 ? (
  <div>æš‚æ— å¯ç”¨åº“ä½</div>
) : (
  <div>åº“ä½åˆ—è¡¨</div>
)}
```

â†’ æ•°æ®æœªåŠ è½½æ—¶ç«‹å³æ˜¾ç¤º"æš‚æ— å¯ç”¨åº“ä½"


ä¿®æ”¹åï¼ˆå·²ä¿®å¤ï¼‰ï¼š
```javascript
{loading ? (
  <div className="loading-container">
    <div className="loading-spinner"></div>
    <p>åŠ è½½ä¸­...</p>
  </div>
) : locations.length === 0 ? (
  <div>æš‚æ— å¯ç”¨åº“ä½</div>
) : (
  <div>åº“ä½åˆ—è¡¨</div>
)}
```

â†’ æ•°æ®æœªåŠ è½½æ—¶æ˜¾ç¤º"åŠ è½½ä¸­..."
â†’ æ•°æ®åŠ è½½å®Œæˆä¸”ä¸ºç©ºæ—¶æ˜¾ç¤º"æš‚æ— å¯ç”¨åº“ä½"
â†’ æ•°æ®åŠ è½½å®Œæˆä¸”ä¸ä¸ºç©ºæ—¶æ˜¾ç¤ºåº“ä½åˆ—è¡¨


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ¨ UI è®¾è®¡
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

åŠ è½½åŠ¨ç”»æ ·å¼ï¼š
============

```css
.loading-container {
  text-align: center;
  padding: 60px 20px;
  color: #667eea;
}

.loading-spinner {
  width: 50px;
  height: 50px;
  margin: 0 auto 20px;
  border: 4px solid #f3f3f3;        /* ç°è‰²è¾¹æ¡† */
  border-top: 4px solid #667eea;    /* ç´«è‰²é¡¶éƒ¨ */
  border-radius: 50%;               /* åœ†å½¢ */
  animation: spin 1s linear infinite; /* æ—‹è½¬åŠ¨ç”» */
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
```


åŠ è½½ä¸­é¡µé¢æ•ˆæœï¼š
==============

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚           ğŸ“¦ ä¸Šæ¶ç®¡ç†                    â”‚
â”‚          è¯·é€‰æ‹©åº“ä½å·                    â”‚
â”‚                                         â”‚
â”‚              â­•                         â”‚
â”‚           (æ—‹è½¬åŠ¨ç”»)                    â”‚
â”‚                                         â”‚
â”‚            åŠ è½½ä¸­...                    â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”„ ä¿®å¤åçš„åŠ è½½æµç¨‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ–°çš„æ—¶é—´è½´ï¼š
==========

```
æ—¶é—´ 0ms:    ç»„ä»¶æŒ‚è½½
             â†“
             loading = true
             locations = []
             â†“
             æ¸²æŸ“ï¼šloading === true â†’ æ˜¾ç¤º"åŠ è½½ä¸­..."
             â†“
æ—¶é—´ 50ms:   useEffect è§¦å‘ï¼Œå¼€å§‹å¼‚æ­¥åŠ è½½æ•°æ®
             â†“
             loadLocations() å‘é€è¯·æ±‚åˆ° Supabase
             â†“
æ—¶é—´ 500ms:  Supabase è¿”å›æ•°æ®
             â†“
             setLocations(data)
             setLoading(false)
             â†“
             é‡æ–°æ¸²æŸ“ï¼š
             - å¦‚æœ locations.length > 0 â†’ æ˜¾ç¤ºåº“ä½åˆ—è¡¨
             - å¦‚æœ locations.length === 0 â†’ æ˜¾ç¤º"æš‚æ— å¯ç”¨åº“ä½"
```

â†’ åœ¨ 0-500ms æœŸé—´ï¼Œç”¨æˆ·çœ‹åˆ°"åŠ è½½ä¸­..."è€Œä¸æ˜¯"æš‚æ— å¯ç”¨åº“ä½"
â†’ åŠ è½½å®Œæˆåæ‰åˆ¤æ–­æ˜¯å¦çœŸçš„æ²¡æœ‰åº“ä½


çŠ¶æ€è½¬æ¢å›¾ï¼š
==========

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆå§‹çŠ¶æ€    â”‚
â”‚  loading=trueâ”‚
â”‚  locations=[]â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“ æ˜¾ç¤º"åŠ è½½ä¸­..."
       â”‚
       â†“ æ•°æ®åŠ è½½å®Œæˆ
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ loading=false         â”‚
â”‚                       â”‚
â”‚  â”Œâ”€â”€â†’ locations=[]    â”‚ â†’ æ˜¾ç¤º"æš‚æ— å¯ç”¨åº“ä½"
â”‚  â”‚                    â”‚
â”‚  â””â”€â”€â†’ locations=[...] â”‚ â†’ æ˜¾ç¤ºåº“ä½åˆ—è¡¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š ä¸‰ç§æ˜¾ç¤ºçŠ¶æ€å¯¹æ¯”
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

çŠ¶æ€1ï¼šåŠ è½½ä¸­ï¼ˆloading=trueï¼‰
============================

æ˜¾ç¤ºå†…å®¹ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ğŸ“¦ ä¸Šæ¶ç®¡ç†          â”‚
â”‚                             â”‚
â”‚          â­•                 â”‚
â”‚       (æ—‹è½¬åŠ¨ç”»)            â”‚
â”‚        åŠ è½½ä¸­...            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ä½•æ—¶æ˜¾ç¤ºï¼š
- ç»„ä»¶åˆšæŒ‚è½½æ—¶
- æ­£åœ¨ä» Supabase åŠ è½½æ•°æ®æ—¶


çŠ¶æ€2ï¼šç¡®å®æ²¡æœ‰åº“ä½ï¼ˆloading=false && locations.length=0ï¼‰
========================================================

æ˜¾ç¤ºå†…å®¹ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ğŸ“¦ ä¸Šæ¶ç®¡ç†          â”‚
â”‚                             â”‚
â”‚          âš ï¸                â”‚
â”‚      æš‚æ— å¯ç”¨åº“ä½           â”‚
â”‚                             â”‚
â”‚ è¯·å…ˆåœ¨"é€€ä»¶çœ‹æ¿ â†’ åº“ä½ç®¡ç†" â”‚
â”‚     ä¸­æ·»åŠ åº“ä½å·            â”‚
â”‚                             â”‚
â”‚    [å‰å¾€åº“ä½ç®¡ç† â†’]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ä½•æ—¶æ˜¾ç¤ºï¼š
- æ•°æ®åŠ è½½å®Œæˆ
- ç¡®å®æ²¡æœ‰ä»»ä½•åº“ä½


çŠ¶æ€3ï¼šæœ‰åº“ä½ï¼ˆloading=false && locations.length>0ï¼‰
==================================================

æ˜¾ç¤ºå†…å®¹ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ğŸ“¦ ä¸Šæ¶ç®¡ç†          â”‚
â”‚                             â”‚
â”‚    å…±æœ‰ 12 ä¸ªå¯ç”¨åº“ä½       â”‚
â”‚                             â”‚
â”‚  [A-001] [A-002] [A-003]   â”‚
â”‚  [B-001] [B-002] [B-003]   â”‚
â”‚  ...                        â”‚
â”‚                             â”‚
â”‚  å·²é€‰æ‹©åº“ä½ï¼šA-001          â”‚
â”‚       [ç»§ç»­ â†’]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ä½•æ—¶æ˜¾ç¤ºï¼š
- æ•°æ®åŠ è½½å®Œæˆ
- æœ‰å¯ç”¨çš„åº“ä½


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ§ª æµ‹è¯•éªŒè¯
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æµ‹è¯• 1ï¼šæ­£å¸¸åŠ è½½ï¼ˆæœ‰åº“ä½ï¼‰
=========================

æ­¥éª¤ï¼š
1. è¿›å…¥"ä¸Šæ¶ç®¡ç†"é¡µé¢
2. è§‚å¯Ÿé¡µé¢åŠ è½½è¿‡ç¨‹

é¢„æœŸç»“æœï¼š
âœ… é¦–å…ˆæ˜¾ç¤º"åŠ è½½ä¸­..."å’Œæ—‹è½¬åŠ¨ç”»
âœ… çº¦0.5-1ç§’åæ˜¾ç¤ºåº“ä½åˆ—è¡¨
âŒ ä¸ä¼šé—ªç°"æš‚æ— å¯ç”¨åº“ä½"
âœ… è¿‡æ¸¡æµç•…è‡ªç„¶


æµ‹è¯• 2ï¼šç¡®å®æ²¡æœ‰åº“ä½
===================

æ­¥éª¤ï¼š
1. åˆ é™¤æ‰€æœ‰åº“ä½
2. è¿›å…¥"ä¸Šæ¶ç®¡ç†"é¡µé¢
3. è§‚å¯Ÿé¡µé¢åŠ è½½è¿‡ç¨‹

é¢„æœŸç»“æœï¼š
âœ… é¦–å…ˆæ˜¾ç¤º"åŠ è½½ä¸­..."å’Œæ—‹è½¬åŠ¨ç”»
âœ… çº¦0.5-1ç§’åæ˜¾ç¤º"æš‚æ— å¯ç”¨åº“ä½"è­¦å‘Š
âœ… æ˜¾ç¤º"å‰å¾€åº“ä½ç®¡ç†"æŒ‰é’®
âœ… ä¸ä¼šæœ‰é—ªç°ç°è±¡


æµ‹è¯• 3ï¼šç½‘ç»œæ…¢çš„æƒ…å†µ
===================

æ­¥éª¤ï¼š
1. åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­è®¾ç½®ç½‘ç»œèŠ‚æµï¼ˆSlow 3Gï¼‰
2. è¿›å…¥"ä¸Šæ¶ç®¡ç†"é¡µé¢
3. è§‚å¯Ÿé¡µé¢åŠ è½½è¿‡ç¨‹

é¢„æœŸç»“æœï¼š
âœ… æ˜¾ç¤º"åŠ è½½ä¸­..."å’Œæ—‹è½¬åŠ¨ç”»
âœ… åŠ¨ç”»æŒç»­æ˜¾ç¤ºï¼Œç›´åˆ°æ•°æ®åŠ è½½å®Œæˆ
âœ… åŠ è½½æ—¶é—´è¾ƒé•¿ï¼Œä½†ç”¨æˆ·ä½“éªŒè‰¯å¥½
âœ… ä¸ä¼šè¯¯å¯¼ç”¨æˆ·è®¤ä¸ºæ²¡æœ‰åº“ä½


æµ‹è¯• 4ï¼šå¿«é€Ÿåˆ‡æ¢é¡µé¢
===================

æ­¥éª¤ï¼š
1. å¿«é€Ÿè¿›å…¥å’Œç¦»å¼€"ä¸Šæ¶ç®¡ç†"é¡µé¢
2. é‡å¤å¤šæ¬¡

é¢„æœŸç»“æœï¼š
âœ… æ¯æ¬¡è¿›å…¥éƒ½æ˜¾ç¤º"åŠ è½½ä¸­..."
âœ… ä¸ä¼šæœ‰è§†è§‰é—ªçƒ
âœ… çŠ¶æ€ç®¡ç†æ­£ç¡®


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’¡ è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„Webå¼€å‘é—®é¢˜
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

é—®é¢˜ç±»å‹ï¼š
=========
**ç«æ€æ¡ä»¶ï¼ˆRace Conditionï¼‰å’ŒåŠ è½½çŠ¶æ€ç®¡ç†**


ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Ÿ
====================

React çš„æ¸²æŸ“æœºåˆ¶ï¼š
1. ç»„ä»¶é¦–æ¬¡æ¸²æŸ“æ—¶ä½¿ç”¨åˆå§‹çŠ¶æ€
2. useEffect åœ¨æ¸²æŸ“åå¼‚æ­¥æ‰§è¡Œ
3. æ•°æ®åŠ è½½å®Œæˆåè§¦å‘é‡æ–°æ¸²æŸ“


åˆå­¦è€…å¸¸çŠ¯çš„é”™è¯¯ï¼š
================
```javascript
// âŒ é”™è¯¯åšæ³•
const [data, setData] = useState([])

useEffect(() => {
  fetchData().then(setData)
}, [])

return (
  <div>
    {data.length === 0 ? 'æ²¡æœ‰æ•°æ®' : 'æ˜¾ç¤ºæ•°æ®'}
  </div>
)
```
â†’ æ•°æ®åŠ è½½å‰å°±æ˜¾ç¤º"æ²¡æœ‰æ•°æ®"


æ­£ç¡®çš„åšæ³•ï¼š
==========
```javascript
// âœ… æ­£ç¡®åšæ³•
const [data, setData] = useState([])
const [loading, setLoading] = useState(true)

useEffect(() => {
  fetchData()
    .then(setData)
    .finally(() => setLoading(false))
}, [])

return (
  <div>
    {loading ? 'åŠ è½½ä¸­...' : 
     data.length === 0 ? 'æ²¡æœ‰æ•°æ®' : 
     'æ˜¾ç¤ºæ•°æ®'}
  </div>
)
```
â†’ åŠ è½½æœŸé—´æ˜¾ç¤º"åŠ è½½ä¸­..."


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ ä¿®æ”¹çš„æ–‡ä»¶
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ–‡ä»¶1ï¼šsrc/pages/ShelvingPage.jsx
================================

ä¿®æ”¹å†…å®¹ï¼š
1. âœ… æ·»åŠ  loading çŠ¶æ€
2. âœ… åœ¨ loadLocations ä¸­æ§åˆ¶ loading
3. âœ… æ¸²æŸ“æ—¶å…ˆåˆ¤æ–­ loading çŠ¶æ€


ä»£ç å¯¹æ¯”ï¼š
=========

ä¿®æ”¹å‰ï¼š
```javascript
const [locations, setLocations] = useState([])

const loadLocations = async () => {
  const allLocations = await getAllLocations()
  setLocations(allLocations)
}

return (
  {locations.length === 0 ? (
    <div>æš‚æ— å¯ç”¨åº“ä½</div>
  ) : (
    <div>åº“ä½åˆ—è¡¨</div>
  )}
)
```

ä¿®æ”¹åï¼š
```javascript
const [locations, setLocations] = useState([])
const [loading, setLoading] = useState(true)  // â† æ–°å¢

const loadLocations = async () => {
  try {
    setLoading(true)                            // â† æ–°å¢
    const allLocations = await getAllLocations()
    setLocations(allLocations)
  } finally {
    setLoading(false)                           // â† æ–°å¢
  }
}

return (
  {loading ? (                                  // â† æ–°å¢
    <div>åŠ è½½ä¸­...</div>
  ) : locations.length === 0 ? (
    <div>æš‚æ— å¯ç”¨åº“ä½</div>
  ) : (
    <div>åº“ä½åˆ—è¡¨</div>
  )}
)
```


æ–‡ä»¶2ï¼šsrc/pages/ShelvingPage.css
================================

ä¿®æ”¹å†…å®¹ï¼š
1. âœ… æ·»åŠ  .loading-container æ ·å¼
2. âœ… æ·»åŠ  .loading-spinner æ ·å¼å’Œæ—‹è½¬åŠ¨ç”»
3. âœ… æ·»åŠ  @keyframes spin åŠ¨ç”»å®šä¹‰


æ–°å¢æ ·å¼ï¼š
=========
- .loading-containerï¼šåŠ è½½å®¹å™¨æ ·å¼
- .loading-spinnerï¼šæ—‹è½¬åŠ è½½åŠ¨ç”»
- @keyframes spinï¼šæ—‹è½¬åŠ¨ç”»å®šä¹‰


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ‰ æ€»ç»“
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

é—®é¢˜åŸå› ï¼š
=========
âŒ æ•°æ®åŠ è½½å‰ï¼Œlocations ä¸ºç©ºæ•°ç»„
âŒ ç«‹å³æ˜¾ç¤º"æš‚æ— å¯ç”¨åº“ä½"
âŒ é€ æˆè§†è§‰é—ªç°


ä¿®å¤æ–¹æ¡ˆï¼š
=========
âœ… æ·»åŠ  loading çŠ¶æ€
âœ… åŠ è½½æœŸé—´æ˜¾ç¤º"åŠ è½½ä¸­..."
âœ… åŠ è½½å®Œæˆåå†åˆ¤æ–­æ˜¯å¦çœŸçš„æ²¡æœ‰åº“ä½


ä¿®å¤æ•ˆæœï¼š
=========
âœ… ä¸å†é—ªç°"æš‚æ— å¯ç”¨åº“ä½"
âœ… æä¾›å‹å¥½çš„åŠ è½½åŠ¨ç”»
âœ… ç”¨æˆ·ä½“éªŒæ›´æµç•…
âœ… ç¬¦åˆWebå¼€å‘æœ€ä½³å®è·µ


ä¿®æ”¹æ–‡ä»¶ï¼š
=========
âœ“ src/pages/ShelvingPage.jsxï¼ˆæ·»åŠ  loading çŠ¶æ€å’Œé€»è¾‘ï¼‰
âœ“ src/pages/ShelvingPage.cssï¼ˆæ·»åŠ åŠ è½½åŠ¨ç”»æ ·å¼ï¼‰


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Œ ç«‹å³æµ‹è¯•ï¼š

1. åˆ·æ–°æµè§ˆå™¨ï¼ˆCtrl+Shift+Rï¼‰
2. ç‚¹å‡»"ä¸Šæ¶"è¿›å…¥"ä¸Šæ¶ç®¡ç†"é¡µé¢
3. âœ… åº”è¯¥å…ˆçœ‹åˆ°æ—‹è½¬çš„åŠ è½½åŠ¨ç”»
4. âœ… ç„¶åæ˜¾ç¤ºåº“ä½åˆ—è¡¨
5. âŒ ä¸ä¼šå†é—ªç°"æš‚æ— å¯ç”¨åº“ä½"

é—ªç°é—®é¢˜å·²ä¿®å¤ï¼ğŸ‰

