# Supabase å¯†ç é‡ç½®åŠŸèƒ½ - è¯¦ç»†é…ç½®æ•™ç¨‹

## ğŸ“‹ ç›®å½•

1. [é…ç½®æ¦‚è¿°](#é…ç½®æ¦‚è¿°)
2. [é‚®ä»¶æœåŠ¡é…ç½®](#é‚®ä»¶æœåŠ¡é…ç½®)
3. [é‚®ä»¶æ¨¡æ¿é…ç½®](#é‚®ä»¶æ¨¡æ¿é…ç½®)
4. [URLé‡å®šå‘é…ç½®](#urlé‡å®šå‘é…ç½®)
5. [æµ‹è¯•éªŒè¯](#æµ‹è¯•éªŒè¯)
6. [å¸¸è§é—®é¢˜æ’æŸ¥](#å¸¸è§é—®é¢˜æ’æŸ¥)

---

## é…ç½®æ¦‚è¿°

å¯†ç é‡ç½®åŠŸèƒ½éœ€è¦é…ç½®ä»¥ä¸‹å†…å®¹ï¼š
- âœ… é‚®ä»¶æœåŠ¡ï¼ˆSMTPï¼‰
- âœ… é‚®ä»¶æ¨¡æ¿
- âœ… é‡å®šå‘URL
- âœ… ç«™ç‚¹URL

**é¢„è®¡é…ç½®æ—¶é—´**ï¼š10-15åˆ†é’Ÿ

---

## é‚®ä»¶æœåŠ¡é…ç½®

### æ­¥éª¤1ï¼šç™»å½• Supabase Dashboard

1. è®¿é—® [https://app.supabase.com](https://app.supabase.com)
2. ç™»å½•æ‚¨çš„è´¦å·
3. é€‰æ‹©æ‚¨çš„é¡¹ç›®

### æ­¥éª¤2ï¼šè¿›å…¥é‚®ä»¶è®¾ç½®

1. ç‚¹å‡»å·¦ä¾§èœå•çš„ **Project Settings**ï¼ˆé¡¹ç›®è®¾ç½®ï¼‰
2. ç‚¹å‡» **Authentication**ï¼ˆè®¤è¯ï¼‰
3. æ»šåŠ¨åˆ° **Email** éƒ¨åˆ†

### æ­¥éª¤3ï¼šå¯ç”¨é‚®ä»¶è®¤è¯

ç¡®ä¿ä»¥ä¸‹è®¾ç½®å·²å¯ç”¨ï¼š

```
âœ… Enable email confirmations (å¯ç”¨é‚®ä»¶ç¡®è®¤)
âœ… Enable email provider (å¯ç”¨é‚®ä»¶æä¾›å•†)
```

### æ­¥éª¤4ï¼šé…ç½® SMTP è®¾ç½®ï¼ˆå¯é€‰ä½†æ¨èï¼‰

> **æ³¨æ„**ï¼šSupabase é»˜è®¤ä½¿ç”¨å†…ç½®çš„é‚®ä»¶æœåŠ¡ï¼Œä½†æœ‰æ¯å°æ—¶å‘é€é™åˆ¶ã€‚å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œå¼ºçƒˆå»ºè®®é…ç½®è‡ªå·±çš„ SMTPã€‚

#### ä½¿ç”¨ Supabase é»˜è®¤é‚®ä»¶æœåŠ¡ï¼ˆå¼€å‘ç¯å¢ƒï¼‰

**ä¼˜ç‚¹**ï¼š
- æ— éœ€é…ç½®ï¼Œå¼€ç®±å³ç”¨
- é€‚åˆå¼€å‘å’Œæµ‹è¯•

**ç¼ºç‚¹**ï¼š
- æœ‰å‘é€é¢‘ç‡é™åˆ¶ï¼ˆæ¯å°æ—¶çº¦3-4å°ï¼‰
- é‚®ä»¶å¯èƒ½è¢«æ ‡è®°ä¸ºåƒåœ¾é‚®ä»¶
- ä¸é€‚åˆç”Ÿäº§ç¯å¢ƒ

**é…ç½®æ–¹æ³•**ï¼š
æ— éœ€é¢å¤–é…ç½®ï¼ŒSupabase é»˜è®¤å¯ç”¨ã€‚

---

#### é…ç½®è‡ªå®šä¹‰ SMTPï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰

å¦‚æœæ‚¨æƒ³ä½¿ç”¨è‡ªå·±çš„é‚®ä»¶æœåŠ¡ï¼Œå¯ä»¥é…ç½®è‡ªå®šä¹‰ SMTPï¼š

**æ”¯æŒçš„é‚®ä»¶æœåŠ¡æä¾›å•†**ï¼š
- Gmail
- SendGrid
- Mailgun
- AWS SES
- é˜¿é‡Œäº‘é‚®ä»¶æ¨é€
- è…¾è®¯äº‘é‚®ä»¶æ¨é€
- å…¶ä»–æ”¯æŒSMTPçš„æœåŠ¡

**é…ç½®æ­¥éª¤**ï¼š

1. åœ¨ **Project Settings** > **Authentication** ä¸­æ‰¾åˆ° **SMTP Settings**
2. å¯ç”¨ **Enable Custom SMTP**
3. å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š

```
SMTP Host: smtp.gmail.com (ä»¥Gmailä¸ºä¾‹)
SMTP Port: 587
SMTP User: your-email@gmail.com
SMTP Pass: your-app-password (åº”ç”¨ä¸“ç”¨å¯†ç )
Sender email: your-email@gmail.com
Sender name: é€€å›åŒ…è£¹ç®¡ç†ç³»ç»Ÿ
```

#### Gmail SMTP é…ç½®ç¤ºä¾‹

å¦‚æœä½¿ç”¨ Gmailï¼š

1. **å¼€å¯ä¸¤æ­¥éªŒè¯**
   - è®¿é—® Google è´¦å·è®¾ç½®
   - å¼€å¯ä¸¤æ­¥éªŒè¯

2. **ç”Ÿæˆåº”ç”¨ä¸“ç”¨å¯†ç **
   - è®¿é—®ï¼š[https://myaccount.google.com/apppasswords](https://myaccount.google.com/apppasswords)
   - é€‰æ‹©"é‚®ä»¶"åº”ç”¨
   - é€‰æ‹©"å…¶ä»–"è®¾å¤‡
   - è¾“å…¥åç§°ï¼š"Supabase"
   - ç”Ÿæˆå¯†ç 
   - å¤åˆ¶ç”Ÿæˆçš„16ä½å¯†ç 

3. **åœ¨ Supabase ä¸­é…ç½®**
   ```
   SMTP Host: smtp.gmail.com
   SMTP Port: 587
   SMTP User: your-email@gmail.com
   SMTP Pass: ç”Ÿæˆçš„16ä½åº”ç”¨ä¸“ç”¨å¯†ç 
   ```

#### SendGrid SMTP é…ç½®ç¤ºä¾‹

å¦‚æœä½¿ç”¨ SendGridï¼ˆæ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰ï¼š

1. **æ³¨å†Œ SendGrid è´¦å·**
   - è®¿é—®ï¼š[https://sendgrid.com](https://sendgrid.com)
   - å…è´¹è®¡åˆ’æ”¯æŒæ¯å¤©100å°é‚®ä»¶

2. **åˆ›å»º API Key**
   - ç™»å½• SendGrid Dashboard
   - è¿›å…¥ Settings > API Keys
   - åˆ›å»ºæ–°çš„ API Key
   - é€‰æ‹© "Full Access"
   - ä¿å­˜ API Key

3. **åœ¨ Supabase ä¸­é…ç½®**
   ```
   SMTP Host: smtp.sendgrid.net
   SMTP Port: 587
   SMTP User: apikey (å›ºå®šå€¼)
   SMTP Pass: æ‚¨çš„ SendGrid API Key
   Sender email: noreply@yourdomain.com
   Sender name: é€€å›åŒ…è£¹ç®¡ç†ç³»ç»Ÿ
   ```

4. **éªŒè¯å‘ä»¶äººé‚®ç®±**
   - åœ¨ SendGrid ä¸­éªŒè¯æ‚¨çš„å‘ä»¶äººé‚®ç®±
   - Settings > Sender Authentication
   - Verify Single Sender

---

## é‚®ä»¶æ¨¡æ¿é…ç½®

### æ­¥éª¤1ï¼šè¿›å…¥é‚®ä»¶æ¨¡æ¿è®¾ç½®

1. ç‚¹å‡»å·¦ä¾§èœå•çš„ **Authentication**
2. ç‚¹å‡» **Email Templates**ï¼ˆé‚®ä»¶æ¨¡æ¿ï¼‰
3. æ‰¾åˆ° **Reset Password** æ¨¡æ¿

### æ­¥éª¤2ï¼šç¼–è¾‘é‡ç½®å¯†ç æ¨¡æ¿

ç‚¹å‡» **Reset Password** è¿›å…¥ç¼–è¾‘ç•Œé¢ã€‚

#### åŸºç¡€é…ç½®

```
Subject (ä¸»é¢˜):
é‡ç½®æ‚¨çš„å¯†ç  - é€€å›åŒ…è£¹ç®¡ç†ç³»ç»Ÿ
```

#### é‚®ä»¶å†…å®¹ï¼ˆHTMLç‰ˆæœ¬ - æ¨èï¼‰

```html
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .container {
      background: #ffffff;
      border-radius: 10px;
      padding: 30px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .header {
      text-align: center;
      padding-bottom: 20px;
      border-bottom: 2px solid #667eea;
    }
    .header h1 {
      color: #667eea;
      margin: 0;
      font-size: 24px;
    }
    .content {
      padding: 30px 0;
    }
    .button-container {
      text-align: center;
      margin: 30px 0;
    }
    .button {
      display: inline-block;
      padding: 15px 40px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white !important;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      font-size: 16px;
    }
    .button:hover {
      background: linear-gradient(135deg, #5568d3 0%, #6a3f8f 100%);
    }
    .footer {
      text-align: center;
      padding-top: 20px;
      border-top: 1px solid #eee;
      color: #666;
      font-size: 14px;
    }
    .warning {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
    .info {
      background: #e7f3ff;
      border-left: 4px solid #2196f3;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ“¦ é€€å›åŒ…è£¹ç®¡ç†ç³»ç»Ÿ</h1>
    </div>
    
    <div class="content">
      <h2>é‡ç½®å¯†ç è¯·æ±‚</h2>
      <p>æ‚¨å¥½ï¼Œ</p>
      <p>æˆ‘ä»¬æ”¶åˆ°äº†æ‚¨çš„å¯†ç é‡ç½®è¯·æ±‚ã€‚å¦‚æœè¿™ä¸æ˜¯æ‚¨æœ¬äººçš„æ“ä½œï¼Œè¯·å¿½ç•¥æ­¤é‚®ä»¶ã€‚</p>
      
      <div class="button-container">
        <a href="{{ .ConfirmationURL }}" class="button">
          é‡ç½®å¯†ç 
        </a>
      </div>
      
      <div class="info">
        <strong>ğŸ“Œ æç¤ºï¼š</strong>
        <ul style="margin: 10px 0; padding-left: 20px;">
          <li>æ­¤é“¾æ¥å°†åœ¨ <strong>1å°æ—¶</strong> åå¤±æ•ˆ</li>
          <li>é“¾æ¥åªèƒ½ä½¿ç”¨ <strong>ä¸€æ¬¡</strong></li>
          <li>ç‚¹å‡»åæ‚¨å°†è®¾ç½®æ–°å¯†ç </li>
        </ul>
      </div>
      
      <div class="warning">
        <strong>âš ï¸ å®‰å…¨æç¤ºï¼š</strong>
        <ul style="margin: 10px 0; padding-left: 20px;">
          <li>è¯·å‹¿ä¸ä»–äººåˆ†äº«æ­¤é“¾æ¥</li>
          <li>å¦‚æœæ‚¨æ²¡æœ‰è¯·æ±‚é‡ç½®å¯†ç ï¼Œè¯·è”ç³»ç®¡ç†å‘˜</li>
        </ul>
      </div>
      
      <p style="color: #666; font-size: 14px; margin-top: 30px;">
        å¦‚æœæŒ‰é’®æ— æ³•ç‚¹å‡»ï¼Œè¯·å¤åˆ¶ä»¥ä¸‹é“¾æ¥åˆ°æµè§ˆå™¨ï¼š<br>
        <a href="{{ .ConfirmationURL }}" style="color: #667eea; word-break: break-all;">
          {{ .ConfirmationURL }}
        </a>
      </p>
    </div>
    
    <div class="footer">
      <p>æ­¤é‚®ä»¶ç”±ç³»ç»Ÿè‡ªåŠ¨å‘é€ï¼Œè¯·å‹¿ç›´æ¥å›å¤ã€‚</p>
      <p style="color: #999; font-size: 12px;">
        Â© 2025 é€€å›åŒ…è£¹ç®¡ç†ç³»ç»Ÿ - Powered by Supabase
      </p>
    </div>
  </div>
</body>
</html>
```

#### é‚®ä»¶å†…å®¹ï¼ˆçº¯æ–‡æœ¬ç‰ˆæœ¬ - å¤‡ç”¨ï¼‰

å¦‚æœä¸æ”¯æŒHTMLï¼Œä½¿ç”¨çº¯æ–‡æœ¬ç‰ˆæœ¬ï¼š

```
é€€å›åŒ…è£¹ç®¡ç†ç³»ç»Ÿ - é‡ç½®å¯†ç 

æ‚¨å¥½ï¼Œ

æˆ‘ä»¬æ”¶åˆ°äº†æ‚¨çš„å¯†ç é‡ç½®è¯·æ±‚ã€‚

è¯·ç‚¹å‡»ä¸‹é¢çš„é“¾æ¥é‡ç½®æ‚¨çš„å¯†ç ï¼š
{{ .ConfirmationURL }}

é‡è¦æç¤ºï¼š
â€¢ æ­¤é“¾æ¥å°†åœ¨1å°æ—¶åå¤±æ•ˆ
â€¢ é“¾æ¥åªèƒ½ä½¿ç”¨ä¸€æ¬¡
â€¢ å¦‚æœæ‚¨æ²¡æœ‰è¯·æ±‚é‡ç½®å¯†ç ï¼Œè¯·å¿½ç•¥æ­¤é‚®ä»¶å¹¶è”ç³»ç®¡ç†å‘˜

å®‰å…¨æç¤ºï¼š
è¯·å‹¿ä¸ä»–äººåˆ†äº«æ­¤é“¾æ¥ã€‚

---
æ­¤é‚®ä»¶ç”±ç³»ç»Ÿè‡ªåŠ¨å‘é€ï¼Œè¯·å‹¿ç›´æ¥å›å¤ã€‚
Â© 2025 é€€å›åŒ…è£¹ç®¡ç†ç³»ç»Ÿ
```

### æ­¥éª¤3ï¼šä¿å­˜æ¨¡æ¿

1. æ£€æŸ¥æ¨¡æ¿å†…å®¹
2. ç‚¹å‡» **Save**ï¼ˆä¿å­˜ï¼‰
3. å‘é€æµ‹è¯•é‚®ä»¶éªŒè¯ï¼ˆå¯é€‰ï¼‰

---

## URLé‡å®šå‘é…ç½®

### æ­¥éª¤1ï¼šè¿›å…¥URLé…ç½®

1. ç‚¹å‡» **Authentication**
2. ç‚¹å‡» **URL Configuration**

### æ­¥éª¤2ï¼šé…ç½®ç«™ç‚¹URL

**Site URL**ï¼ˆç«™ç‚¹URLï¼‰ï¼š
- å¼€å‘ç¯å¢ƒï¼š`http://localhost:5173`
- ç”Ÿäº§ç¯å¢ƒï¼š`https://your-domain.com`

è¿™æ˜¯ç”¨æˆ·ç™»å½•åçš„é»˜è®¤è·³è½¬åœ°å€ã€‚

### æ­¥éª¤3ï¼šé…ç½®é‡å®šå‘URL

åœ¨ **Redirect URLs** éƒ¨åˆ†æ·»åŠ ä»¥ä¸‹URLï¼š

#### å¼€å‘ç¯å¢ƒ
```
http://localhost:5173/reset-password
http://localhost:5173/*
```

#### ç”Ÿäº§ç¯å¢ƒ
```
https://your-domain.com/reset-password
https://your-domain.com/*
```

#### å¦‚æœæœ‰å¤šä¸ªç¯å¢ƒ
```
# æœ¬åœ°å¼€å‘
http://localhost:5173/*

# æµ‹è¯•ç¯å¢ƒ
https://test.your-domain.com/*

# ç”Ÿäº§ç¯å¢ƒ  
https://your-domain.com/*
https://www.your-domain.com/*
```

> **é‡è¦**ï¼šç¡®ä¿æ·»åŠ äº†é€šé…ç¬¦ `/*` ä»¥æ”¯æŒæ‰€æœ‰å­è·¯å¾„

### æ­¥éª¤4ï¼šä¿å­˜é…ç½®

1. ç‚¹å‡» **Add URL** æ·»åŠ æ¯ä¸ªURL
2. æ£€æŸ¥æ‰€æœ‰URLæ˜¯å¦æ­£ç¡®
3. ç‚¹å‡» **Save**ï¼ˆä¿å­˜ï¼‰

---

## æµ‹è¯•éªŒè¯

### æµ‹è¯•å‰æ£€æŸ¥æ¸…å•

- [ ] SMTPé…ç½®å·²å®Œæˆï¼ˆæˆ–ä½¿ç”¨é»˜è®¤ï¼‰
- [ ] é‚®ä»¶æ¨¡æ¿å·²ä¿å­˜
- [ ] é‡å®šå‘URLå·²æ·»åŠ 
- [ ] Site URLå·²é…ç½®

### æ­¥éª¤1ï¼šæµ‹è¯•å‘é€é‚®ä»¶

1. é€€å‡ºç™»å½•ï¼ˆå¦‚æœå·²ç™»å½•ï¼‰
2. åœ¨ç™»å½•é¡µé¢ç‚¹å‡»"å¿˜è®°/ä¿®æ”¹å¯†ç "
3. è¾“å…¥æ‚¨çš„æ³¨å†Œé‚®ç®±
4. ç‚¹å‡»"å‘é€é‡ç½®é‚®ä»¶"
5. è§‚å¯Ÿæ˜¯å¦æ˜¾ç¤ºæˆåŠŸæç¤º

**é¢„æœŸç»“æœ**ï¼š
```
âœ… å¯†ç é‡ç½®é‚®ä»¶å·²å‘é€ï¼è¯·æ£€æŸ¥æ‚¨çš„é‚®ç®±ï¼ˆåŒ…æ‹¬åƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹ï¼‰ã€‚
```

### æ­¥éª¤2ï¼šæ£€æŸ¥é‚®ä»¶

1. æ‰“å¼€æ‚¨çš„é‚®ç®±
2. æŸ¥æ‰¾æ¥è‡ªç³»ç»Ÿçš„é‚®ä»¶
3. å¦‚æœåœ¨æ”¶ä»¶ç®±æ‰¾ä¸åˆ°ï¼Œæ£€æŸ¥ï¼š
   - åƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹
   - ä¿ƒé”€/ç¤¾äº¤é‚®ä»¶åˆ†ç±»
   - æ‰€æœ‰é‚®ä»¶åˆ—è¡¨

**é¢„æœŸç»“æœ**ï¼š
- æ”¶åˆ°ä¸»é¢˜ä¸º"é‡ç½®æ‚¨çš„å¯†ç  - é€€å›åŒ…è£¹ç®¡ç†ç³»ç»Ÿ"çš„é‚®ä»¶
- é‚®ä»¶åŒ…å«"é‡ç½®å¯†ç "æŒ‰é’®
- é‚®ä»¶æ ¼å¼æ­£ç¡®ï¼Œæ ·å¼ç¾è§‚

### æ­¥éª¤3ï¼šæµ‹è¯•é‡ç½®é“¾æ¥

1. ç‚¹å‡»é‚®ä»¶ä¸­çš„"é‡ç½®å¯†ç "æŒ‰é’®
2. æµè§ˆå™¨åº”è¯¥è‡ªåŠ¨è·³è½¬åˆ°é‡ç½®å¯†ç é¡µé¢

**é¢„æœŸç»“æœ**ï¼š
- URLä¸ºï¼š`http://localhost:5173/reset-password#access_token=...`
- é¡µé¢æ˜¾ç¤º"è®¾ç½®æ–°å¯†ç "è¡¨å•
- æ²¡æœ‰é”™è¯¯æç¤º

### æ­¥éª¤4ï¼šè®¾ç½®æ–°å¯†ç 

1. è¾“å…¥æ–°å¯†ç ï¼ˆè‡³å°‘6ä½ï¼‰
2. ç¡®è®¤æ–°å¯†ç 
3. ç‚¹å‡»"ç¡®è®¤é‡ç½®"

**é¢„æœŸç»“æœ**ï¼š
```
âœ… å¯†ç é‡ç½®æˆåŠŸï¼3ç§’åè·³è½¬åˆ°ç™»å½•é¡µé¢...
```

### æ­¥éª¤5ï¼šä½¿ç”¨æ–°å¯†ç ç™»å½•

1. ç­‰å¾…è‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢
2. ä½¿ç”¨æ–°å¯†ç ç™»å½•

**é¢„æœŸç»“æœ**ï¼š
- æˆåŠŸç™»å½•ç³»ç»Ÿ
- è¿›å…¥é¦–é¡µ

---

## å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šæ”¶ä¸åˆ°é‚®ä»¶

#### å¯èƒ½åŸå› 1ï¼šé‚®ä»¶åœ¨åƒåœ¾ç®±
**è§£å†³æ–¹æ³•**ï¼š
- æ£€æŸ¥åƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹
- å°†å‘ä»¶äººæ·»åŠ åˆ°è”ç³»äºº
- æ ‡è®°ä¸º"éåƒåœ¾é‚®ä»¶"

#### å¯èƒ½åŸå› 2ï¼šSMTPé…ç½®é”™è¯¯
**æ£€æŸ¥æ­¥éª¤**ï¼š
1. è¿›å…¥ **Project Settings** > **Authentication**
2. æŸ¥çœ‹ SMTP é…ç½®æ˜¯å¦æ­£ç¡®
3. æµ‹è¯• SMTP è¿æ¥

**è§£å†³æ–¹æ³•**ï¼š
- éªŒè¯SMTPæœåŠ¡å™¨åœ°å€
- æ£€æŸ¥ç«¯å£å·ï¼ˆé€šå¸¸587æˆ–465ï¼‰
- ç¡®è®¤ç”¨æˆ·åå’Œå¯†ç æ­£ç¡®
- å¦‚ä½¿ç”¨Gmailï¼Œç¡®è®¤ä½¿ç”¨çš„æ˜¯åº”ç”¨ä¸“ç”¨å¯†ç 

#### å¯èƒ½åŸå› 3ï¼šè¾¾åˆ°å‘é€é™åˆ¶
**Supabase é»˜è®¤é‚®ä»¶é™åˆ¶**ï¼š
- æ¯å°æ—¶çº¦3-4å°é‚®ä»¶
- é¢‘ç¹å‘é€ä¼šè§¦å‘é™åˆ¶

**è§£å†³æ–¹æ³•**ï¼š
- ç­‰å¾…ä¸€æ®µæ—¶é—´åé‡è¯•
- é…ç½®è‡ªå®šä¹‰SMTPï¼ˆæ¨èï¼‰
- å‡çº§Supabaseè®¡åˆ’

#### å¯èƒ½åŸå› 4ï¼šé‚®ç®±åœ°å€é”™è¯¯
**è§£å†³æ–¹æ³•**ï¼š
- ç¡®è®¤è¾“å…¥çš„é‚®ç®±æ˜¯æ³¨å†Œæ—¶ä½¿ç”¨çš„é‚®ç®±
- åœ¨Supabase Dashboardä¸­æŸ¥çœ‹ç”¨æˆ·çš„é‚®ç®±åœ°å€
  - Authentication > Users

---

### é—®é¢˜2ï¼šç‚¹å‡»é“¾æ¥æ˜¾ç¤º"æ— æ•ˆæˆ–å·²è¿‡æœŸ"

#### å¯èƒ½åŸå› 1ï¼šé“¾æ¥å·²ä½¿ç”¨
**è¯´æ˜**ï¼š
- é‡ç½®é“¾æ¥åªèƒ½ä½¿ç”¨ä¸€æ¬¡
- ä½¿ç”¨åç«‹å³å¤±æ•ˆ

**è§£å†³æ–¹æ³•**ï¼š
- é‡æ–°ç”³è¯·å¯†ç é‡ç½®
- è·å–æ–°çš„é‡ç½®é“¾æ¥

#### å¯èƒ½åŸå› 2ï¼šé“¾æ¥å·²è¿‡æœŸ
**è¯´æ˜**ï¼š
- é‡ç½®é“¾æ¥é»˜è®¤æœ‰æ•ˆæœŸä¸º1å°æ—¶

**è§£å†³æ–¹æ³•**ï¼š
- é‡æ–°ç”³è¯·å¯†ç é‡ç½®
- å»ºè®®æ”¶åˆ°é‚®ä»¶åå°½å¿«ä½¿ç”¨

#### å¯èƒ½åŸå› 3ï¼šURLé…ç½®é”™è¯¯
**æ£€æŸ¥æ­¥éª¤**ï¼š
1. è¿›å…¥ **Authentication** > **URL Configuration**
2. ç¡®è®¤é‡å®šå‘URLåŒ…å«ï¼š
   ```
   http://localhost:5173/reset-password
   http://localhost:5173/*
   ```

**è§£å†³æ–¹æ³•**ï¼š
- æ·»åŠ ç¼ºå¤±çš„URL
- ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„åŸŸåå’Œç«¯å£
- ä¿å­˜åé‡æ–°ç”³è¯·é‡ç½®

---

### é—®é¢˜3ï¼šç‚¹å‡»é“¾æ¥æ— ååº”æˆ–404

#### å¯èƒ½åŸå› ï¼šå‰ç«¯è·¯ç”±æœªé…ç½®
**æ£€æŸ¥æ­¥éª¤**ï¼š
1. ç¡®è®¤ `src/App.jsx` åŒ…å«é‡ç½®å¯†ç è·¯ç”±
2. ç¡®è®¤ `src/components/ResetPassword.jsx` æ–‡ä»¶å­˜åœ¨

**è§£å†³æ–¹æ³•**ï¼š
- ç¡®ä¿ä»£ç å·²éƒ¨ç½²æœ€æ–°ç‰ˆæœ¬
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜åé‡è¯•

---

### é—®é¢˜4ï¼šé‚®ä»¶æ ·å¼ä¸æ­£ç¡®

#### å¯èƒ½åŸå› ï¼šé‚®ç®±å®¢æˆ·ç«¯ä¸æ”¯æŒHTML
**è¯´æ˜**ï¼š
æŸäº›é‚®ç®±å®¢æˆ·ç«¯ï¼ˆå¦‚Outlookæ—§ç‰ˆæœ¬ï¼‰å¯¹HTMLæ”¯æŒæœ‰é™

**è§£å†³æ–¹æ³•**ï¼š
- ä½¿ç”¨ç®€åŒ–çš„HTMLæ¨¡æ¿
- é¿å…å¤æ‚çš„CSSæ ·å¼
- ç¡®ä¿çº¯æ–‡æœ¬ç‰ˆæœ¬å¯è¯»

---

### é—®é¢˜5ï¼šç”Ÿäº§ç¯å¢ƒé‚®ä»¶å‘é€å¤±è´¥

#### å¯èƒ½åŸå› ï¼šSMTPæœªé…ç½®
**è¯´æ˜**ï¼š
ç”Ÿäº§ç¯å¢ƒå¼ºçƒˆå»ºè®®ä½¿ç”¨è‡ªå®šä¹‰SMTP

**è§£å†³æ–¹æ³•**ï¼š
1. æ³¨å†Œä¸“ä¸šé‚®ä»¶æœåŠ¡ï¼ˆSendGrid/Mailgunï¼‰
2. åœ¨Supabaseä¸­é…ç½®SMTP
3. éªŒè¯å‘ä»¶äººé‚®ç®±åŸŸå

---

## æŸ¥çœ‹å‘é€æ—¥å¿—

### æ­¥éª¤1ï¼šè¿›å…¥æ—¥å¿—é¡µé¢

1. ç‚¹å‡» **Logs**ï¼ˆæ—¥å¿—ï¼‰
2. é€‰æ‹© **Auth Logs**ï¼ˆè®¤è¯æ—¥å¿—ï¼‰

### æ­¥éª¤2ï¼šæŸ¥æ‰¾å¯†ç é‡ç½®è®°å½•

ç­›é€‰æ¡ä»¶ï¼š
- Event Type: `user.password_recovery`
- Time Range: é€‰æ‹©åˆé€‚çš„æ—¶é—´èŒƒå›´

### æ­¥éª¤3ï¼šæŸ¥çœ‹è¯¦ç»†ä¿¡æ¯

ç‚¹å‡»è®°å½•å¯ä»¥çœ‹åˆ°ï¼š
- ç”¨æˆ·é‚®ç®±
- å‘é€æ—¶é—´
- æ˜¯å¦æˆåŠŸ
- é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœ‰ï¼‰

---

## å®‰å…¨æœ€ä½³å®è·µ

### 1. ä½¿ç”¨HTTPS
- ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨HTTPS
- ç¡®ä¿SSLè¯ä¹¦æœ‰æ•ˆ

### 2. é™åˆ¶é‡ç½®é¢‘ç‡
Supabaseé»˜è®¤é™åˆ¶ï¼š
- åŒä¸€é‚®ç®±æ¯60ç§’åªèƒ½è¯·æ±‚ä¸€æ¬¡

### 3. ç›‘æ§å¼‚å¸¸è¯·æ±‚
å®šæœŸæ£€æŸ¥ï¼š
- é¢‘ç¹çš„é‡ç½®è¯·æ±‚
- æ¥è‡ªåŒä¸€IPçš„å¤§é‡è¯·æ±‚

### 4. ä¿æŠ¤SMTPå‡­è¯
- ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç SMTPå¯†ç 
- ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¯†é’¥ç®¡ç†

### 5. å®šæœŸæ›´æ–°é‚®ä»¶æ¨¡æ¿
- æ£€æŸ¥é“¾æ¥æ˜¯å¦æ­£ç¡®
- æ›´æ–°å“ç‰Œä¿¡æ¯
- ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

---

## ç”Ÿäº§ç¯å¢ƒé…ç½®æ£€æŸ¥æ¸…å•

éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒå‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] å·²é…ç½®è‡ªå®šä¹‰SMTPï¼ˆä¸ä½¿ç”¨é»˜è®¤ï¼‰
- [ ] å·²éªŒè¯å‘ä»¶äººé‚®ç®±/åŸŸå
- [ ] å·²æ·»åŠ ç”Ÿäº§ç¯å¢ƒé‡å®šå‘URL
- [ ] å·²é…ç½®æ­£ç¡®çš„Site URL
- [ ] é‚®ä»¶æ¨¡æ¿åŒ…å«æ­£ç¡®çš„å“ç‰Œä¿¡æ¯
- [ ] æµ‹è¯•äº†å®Œæ•´çš„é‡ç½®æµç¨‹
- [ ] æ£€æŸ¥äº†é‚®ä»¶é€è¾¾ç‡
- [ ] é…ç½®äº†é‚®ä»¶å‘é€ç›‘æ§
- [ ] æ–‡æ¡£å·²æ›´æ–°ç»™å›¢é˜Ÿ
- [ ] ç”¨æˆ·å·²æ”¶åˆ°åŠŸèƒ½é€šçŸ¥

---

## æ¨èçš„é‚®ä»¶æœåŠ¡æä¾›å•†å¯¹æ¯”

| æä¾›å•† | å…è´¹é¢åº¦ | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|--------|----------|------|------|----------|
| **SendGrid** | 100å°/å¤© | ç¨³å®šæ€§é«˜ã€é€è¾¾ç‡å¥½ | éœ€è¦éªŒè¯åŸŸå | æ¨èç”Ÿäº§ç¯å¢ƒ |
| **Mailgun** | 5000å°/æœˆ | APIåŠŸèƒ½å¼ºå¤§ | é…ç½®ç¨å¤æ‚ | å¤§é‡å‘é€éœ€æ±‚ |
| **Gmail** | 500å°/å¤© | å…è´¹ã€æ˜“é…ç½® | å¯èƒ½è¢«é™åˆ¶ | å°å‹é¡¹ç›®/æµ‹è¯• |
| **AWS SES** | 62000å°/æœˆ | ä¾¿å®œã€å¯æ‰©å±• | éœ€è¦AWSè´¦å· | AWSç”Ÿæ€å†… |
| **é˜¿é‡Œäº‘** | 200å°/å¤© | å›½å†…é€è¾¾ç‡é«˜ | éœ€å¤‡æ¡ˆåŸŸå | å›½å†…ç”¨æˆ· |

---

## æŠ€æœ¯æ”¯æŒ

å¦‚æœæŒ‰ç…§æœ¬æ•™ç¨‹æ“ä½œä»ç„¶é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š

1. **æŸ¥çœ‹Supabaseæ–‡æ¡£**
   - [Auth Email Configuration](https://supabase.com/docs/guides/auth/auth-email)

2. **æ£€æŸ¥ç³»ç»Ÿæ—¥å¿—**
   - Supabase Dashboard > Logs > Auth Logs

3. **è”ç³»æ”¯æŒ**
   - Supabase Discordç¤¾åŒº
   - GitHub Issues

4. **æŸ¥çœ‹ç¤ºä¾‹ä»£ç **
   - [Supabase Auth Examples](https://github.com/supabase/examples)

---

## é™„å½•ï¼šå®Œæ•´é…ç½®ç¤ºä¾‹

### Supabase Dashboard é…ç½®æ€»è§ˆ

```yaml
# Authentication Settings
Email Authentication: âœ… Enabled
Confirm Email: âœ… Enabled
Secure Email Change: âœ… Enabled

# SMTP Settings (ç”Ÿäº§ç¯å¢ƒ)
SMTP Host: smtp.sendgrid.net
SMTP Port: 587
SMTP User: apikey
SMTP Pass: SG.xxxxxxxxxxxxxxxxxxxxx
Sender Email: noreply@yourdomain.com
Sender Name: é€€å›åŒ…è£¹ç®¡ç†ç³»ç»Ÿ

# URL Configuration
Site URL: https://yourdomain.com
Redirect URLs:
  - https://yourdomain.com/*
  - https://yourdomain.com/reset-password

# Email Templates
Reset Password:
  Subject: é‡ç½®æ‚¨çš„å¯†ç  - é€€å›åŒ…è£¹ç®¡ç†ç³»ç»Ÿ
  Template: [å·²é…ç½®HTMLæ¨¡æ¿]
```

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**æœ€åæ›´æ–°**ï¼š2025-10-18  
**é€‚ç”¨ç‰ˆæœ¬**ï¼šSupabase v2.x

